!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("swiss-element")):"function"==typeof define&&define.amd?define(["exports","swiss-element"],t):t((e=e||self).swissRedux={},e.swissElement)}(this,function(e,t){"use strict";var n,r=Object.prototype.hasOwnProperty;function u(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var o=new WeakMap;e.context=function(e){return n=n||t.createContext(e),function(n){return function(){var r=n.apply(void 0,arguments);return o.set(r,t.createContext(e)),r}}},e.useSelector=function(e){var s=t.useElement(),i=t.useContext(o.get(s)||n),c=i.getState,f=t.useState(e(c())),a=f[0],l=f[1],p=t.useRef(a);return t.useEffect(function(){i.subscribe(function(){var t=e(c());(function(e,t){if(u(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!r.call(t,n[s])||!u(e[n[s]],t[n[s]]))return!1;return!0})(t,p.current)||(p.current=t,l(t))})}),a},e.useActionCreator=function(e){var r=t.useElement(),u=t.useContext(o.get(r)||n).dispatch;return function(){return u(e.apply(void 0,arguments))}},Object.defineProperty(e,"__esModule",{value:!0})});
