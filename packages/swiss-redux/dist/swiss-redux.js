!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("swiss-element")):"function"==typeof define&&define.amd?define(["exports","swiss-element"],t):t((e=e||self).swissRedux={},e.swissElement)}(this,function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r,u=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var c=new WeakMap;function i(e){var n=t.useElement(),u=t.useContext(c.get(n)||r).dispatch;return function(){return u(e.apply(void 0,arguments))}}e.context=function(e){return r=r||t.createContext(e),function(n){return function(){var r=n.apply(void 0,arguments);return c.set(r,t.createContext(e)),r}}},e.useSelector=function(e){var n=t.useElement(),i=t.useContext(c.get(n)||r),f=i.getState,s=t.useState(e(f())),l=s[0],a=s[1],p=t.useRef(l);return t.useEffect(function(){i.subscribe(function(){var t=e(f());(function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var c=0;c<n.length;c++)if(!u.call(t,n[c])||!o(e[n[c]],t[n[c]]))return!1;return!0})(t,p.current)||(p.current=t,a(t))})}),l},e.useAction=i,e.useActions=function(e){return Object.keys(e).reduce(function(t,r){var u,o=e[r];return"function"==typeof o?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},u=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),u.forEach(function(t){n(e,t,r[t])})}return e}({},t,((u={})[r]=i(o),u)):t},{})},Object.defineProperty(e,"__esModule",{value:!0})});
